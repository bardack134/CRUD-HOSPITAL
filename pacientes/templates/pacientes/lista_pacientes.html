{% extends "registro/base.html" %}
<!-- Utiliza la plantilla 'base.html' como plantilla base para esta página -->

{% block content %}
<!-- Inicia un bloque 'content'. Los bloques permiten reemplazar contenido específico en plantillas base -->

{% load static %}
<!-- Carga las etiquetas estáticas para acceder a archivos estáticos como CSS y JavaScript -->

<div style="text-align: center;">
    <!-- Inicia una sección con alineación centrada -->

    <h1>Lista de Pacientes</h1>
    <!-- Encabezado de nivel 1 para mostrar el título -->

</div>

<!-- Abre el formulario. Cuando se envía, los datos se envían como parte de la URL mediante el método GET. -->
<form method="GET" action="{% url 'lista_pacientes' %}">

    <!-- Crea un campo de entrada de tipo "date" para ingresar la fecha de búsqueda. -->
    <input type="date" name="search_date">

    <!-- Crea un campo de entrada de texto para ingresar el nombre del paciente. -->
    <input type="text" name="search_name" placeholder="Nombre del paciente">

    <!-- Crea un botón de tipo "submit" que permite enviar el formulario. -->
    <button type="submit">Buscar</button>

    <!-- ver todos los datos almacenados -->
    <a href="{% url 'lista_pacientes' %}" class="btn btn-secondary">Ver Todos</a>

    <a href="{% url 'RegistroPaciente'  %}" class="btn btn-success" style="float: right;">volver al formulario de ingreso</a>
</form>

<!-- Aquí va tu tabla de resultados -->

<div class="table-responsive" style="clear: both; margin-top: 20px;">
    <!-- Inicia una sección para una tabla que será responsiva y tiene un margen superior -->

    <table class="table table-striped table-bordered table-sm align-middle">
        <!-- Inicia una tabla con clases CSS para darle estilo -->

        <thead>
            <!-- Inicia la sección de encabezado de la tabla -->
            <tr class="table-info">
                <!-- Inicia una fila para el encabezado con un estilo de tabla específico -->

                <!-- Cada 'th' representa una celda de encabezado de columna -->
                <th>Categoría de Registro</th>
                <th>Fecha</th>
                <th>Ala del Hospital</th>
                <th>Número de Habitación</th>
                <th>Código del Paciente</th>
                <th>Nombre</th>
                <th>Género</th>
                <th>Departamento de Admisión</th>
                <th>Resultado</th>
                <th>admision medica</th>
                <th>Diagnóstico</th>
            </tr>
        </thead>
        <tbody class="table-group-divider">
            <!-- Inicia la sección del cuerpo de la tabla -->
            {% for patient in patients %}
            <!-- Itera sobre la lista de pacientes pasada desde la vista -->
            <tr>
                <!-- Inicia una fila para un paciente -->

                <!-- Cada 'td' representa una celda de contenido en la fila -->
                <td>{{ patient.category_registration }}</td>
                <td>{{ patient.date }}</td>
                <td>{{ patient.hospital_ward }}</td>
                <td>{{ patient.room }}</td>
                <td>{{ patient.patient_code }}</td>
                <td>{{ patient.name }}</td>
                <td>{{ patient.get_gender_display }}</td>
                <td>{{ patient.admitting_department }}</td>
                <td>{{ patient.outcome }}</td>
                <td>{{ patient.admitting_physician }}</td>
                <td>{{ patient.diagnosis }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <!-- Cierra la tabla -->
</div>
<!-- Cierra la sección de la tabla responsiva -->

{% endblock %}
<!-- Finaliza el bloque 'content' -->
